import os
import sys
module_dir = os.path.dirname(os.path.abspath(__file__))
project_dir = os.path.abspath(os.path.join(module_dir, '..'))
sys.path.append(project_dir)

from dijkstras import dijkstras

class TestDijkstras:
    def test_dijkstras_shortest_path_valid(self):
        class DummyWeightedGraph:
            def __init__(self, vertices):
                self.vertices = vertices
        
        v1 = DummyWeightedGraph({
            'A': {'B': 2, 'C': 4},
            'B': {'A': 2, 'C': 1},
            'C': {'A': 4, 'B': 1}
        })
        assert dijkstras(v1, 'A', 'C') == ['A', 'B', 'C']
    
    def test_dijkstras_shortest_path_same_vertex(self):
        class DummyWeightedGraph:
            def __init__(self, vertices):
                self.vertices = vertices
        
        v2 = DummyWeightedGraph({
            'X': {'Y': 3, 'Z': 5},
            'Y': {'X': 3, 'Z': 1},
            'Z': {'X': 5, 'Y': 1}
        })
        assert dijkstras(v2, 'X', 'X') == ['X']
    
    def test_dijkstras_shortest_path_no_path(self):
        class DummyWeightedGraph:
            def __init__(self, vertices):
                self.vertices = vertices
        
        v3 = DummyWeightedGraph({
            'M': {'N': 2},
            'N': {'M': 2},
            'O': {}
        })
        assert dijkstras(v3, 'M', 'O') == []